{"version":3,"sources":["Help.tsx","App.tsx","index.tsx"],"names":["Help","React","useState","adOpacity","setAdOpacity","Typography","variant","gutterBottom","style","border","padding","borderRadius","opacity","display","Link","href","target","rel","onClick","verticalAlign","marginLeft","src","maxWidth","alt","useStyles","makeStyles","theme","main","background","appbar","backgroundColor","orange","title","fontWeight","paddingTop","paddingBottom","paddingLeft","paddingRight","search","flexGrow","position","shape","fade","margin","searchIcon","dislay","height","alignItems","justifyContent","pointerEvents","inputRoot","width","inputInput","extensionLink","transitionDuration","marginRight","fileDropdown","minHeight","flexDirection","fileDropdownDescription","fontSize","fileDropdownButton","marginBottom","fileDropdownOverlay","left","top","searchList","SearchListItem","props","expand","setExpand","ListItem","button","ListItemIcon","item","id","name","ListItemText","primary","totalItemCount","Collapse","in","unmountOnExit","values","map","v","List","component","disablePadding","owner","count","App","classes","undefined","itemDatabase","setItemDatabase","anchorEl","setAnchorEl","fuseResults","setFuseResults","dragAreaHighlight","setDragAreaHighlight","showHelp","setShowHelp","databaseLoadCallback","file","a","JSON","text","json","parse","data","db","version","when","nameFuse","Fuse","Object","entries","nameToID","flatMap","k","elem","keys","console","error","searchInputCallback","useCallback","ev","value","trim","length","slice","r","log","inventoryMap","storageItem","storageMap","push","iconURL","reduce","b","className","AppBar","Toolbar","InputBase","type","placeholder","root","input","onChange","Button","currentTarget","Popover","open","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","onClose","onDrop","preventDefault","stopPropagation","dataTransfer","items","i","kind","getAsFile","files","onDragOver","e","onDragEnter","onDragLeave","align","hidden","Container","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.660547fc.chunk.js","sourcesContent":["import { Link, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport CloseOutlined from \"@material-ui/icons/CloseOutlined\";\r\n\r\nfunction Help() {\r\n    const [adOpacity, setAdOpacity] = React.useState(1.0);\r\n    return (<>\r\n        <Typography variant=\"body1\" gutterBottom style={{ border: \"solid 1.6px\", padding: \"0.1em 0.7em\", borderRadius: \"2em\", opacity: adOpacity, display: \"flex\" }}>\r\n            광고: 일격필살 코어에 맞춰 스킬을 쓰려면 <Link href=\"https://mapletimer.cro.sh\" target=\"_blank\" rel=\"noreferrer noopener\">일격필살 타이머</Link>를 이용해보세요.\r\n            <CloseOutlined onClick={() => setAdOpacity(0)} style={{ display: \"inline-block\", verticalAlign: \"middle\", marginLeft: \"auto\" }} />\r\n        </Typography>\r\n        <Typography variant=\"h3\" gutterBottom>사이트 이용 방법</Typography>\r\n        <Typography variant=\"h4\" gutterBottom>1. 크롬 확장 프로그램 설치하기</Typography>\r\n        <Typography variant=\"body1\" gutterBottom>\r\n            사이트 상단에 있는 [크롬 확장 프로그램 다운로드]를 클릭하여 크롬에 추가합니다.\r\n            캐릭터 정보를 로드하려면 <u>최신 버전의 크롬 브라우저</u>가 꼭 필요합니다(아이템 검색은 상관없습니다).\r\n        </Typography>\r\n        <Typography variant=\"h4\" gutterBottom>2. 내 캐릭터 정보 창으로 이동</Typography>\r\n        <img src=\"/images/help1.png\" style={{ maxWidth: '70%' }} alt=\"help-img-1\" />\r\n        <Typography variant=\"body1\" gutterBottom>\r\n            크롬을 켠 후 <Link href=\"https://maplestory.nexon.com/Home/Main\" target=\"_black\" rel=\"noreferrer noopener\">메이플스토리 홈페이지</Link>에 로그인한 다음, 내 캐릭터 아이콘을 클릭합니다.\r\n        </Typography>\r\n        <Typography variant=\"h4\" gutterBottom>3. 캐릭터 정보 로드</Typography>\r\n        <img src=\"/images/help2.png\" style={{ maxWidth: '70%' }} alt=\"help-img-2\" />\r\n        <img src=\"/images/help3.png\" style={{ maxWidth: '70%' }} alt=\"help-img-3\" />\r\n        <Typography variant=\"body1\" gutterBottom>\r\n            내 캐릭터 정보 창에서 확장 프로그램을 켠 후 우측 상단의 새로고침 버튼을 클릭합니다. <br />\r\n            무시하려는 캐릭터가 있다면 목록에서 휴지통 버튼을 눌러 제거할 수 있습니다.\r\n        </Typography>\r\n        <img src=\"/images/help4.png\" style={{ maxWidth: '70%' }} alt=\"help-img-4\" />\r\n        <img src=\"/images/help5.png\" style={{ maxWidth: '70%' }} alt=\"help-img-5\" />\r\n        <Typography variant=\"body1\" gutterBottom>\r\n            캐릭터 정보를 로드하는 데는 약 3~4분 가량이 소요됩니다. 이 때 <strong>확장 프로그램 창을 끄면 로드가 취소되니</strong> 창을 끄지 말아주세요. <br />\r\n            캐릭터 정보 로드가 완료되면 우측 상단의 저장 버튼을 클릭하고, 이 사이트로 돌아와 상단의 [아이템 목록 로드] 버튼을 클릭해 로드하면 검색을 이용할 수 있습니다.\r\n        </Typography>\r\n        <Typography variant=\"h4\" gutterBottom>⚠️ 주의</Typography>\r\n        <Typography variant=\"body1\" gutterBottom>\r\n            이 확장 프로그램과 사이트는 넥슨 코리아와 무관합니다. <br />\r\n            이 확장 프로그램은 캐릭터 정보를 넥슨 공식 홈페이지에서 가져옵니다. 매우 많은 캐릭터 정보를 여러 번 로드하려 하면 넥슨 홈페이지에서 IP 차단(대개 30분)을 당할 수 있습니다. (40개 이상의 캐릭터들을 3회 이상 연속으로 로드하지 마세요) <br />\r\n            메소량은 현재 창고 메소만 조회 가능합니다. 이후 버전에서 수정 예정입니다. <br />\r\n            소울이 장착된 무기류는 검색이 제대로 되지 않습니다(소울 이름으로 인식됩니다). 추후 수정하겠습니다. <br />\r\n            가방(채집물, 의자, 소울 등) 안에 있는 아이템은 검색할 수 없습니다. 공식 사이트에서 정보를 제공하지 않기 때문에 알 방법이 없습니다. <br />\r\n            <br />\r\n            버그 및 기타 문의 등은 amazingblaster12321$gmail:com 으로 문의 바랍니다. (:는 .으로, $는 @으로 바꾸세요)\r\n        </Typography>\r\n    </>);\r\n}\r\n\r\nexport default Help;","import React from 'react';\nimport './App.css';\nimport { AppBar, Button, Collapse, Container, fade, InputBase, List, ListItem, ListItemIcon, ListItemText, makeStyles, Popover, Toolbar, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport ItemDatabase, { DatabaseValue, SearchResult } from './ItemDatabase';\nimport Fuse from 'fuse.js';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport Help from './Help';\n\nconst MAX_SEARCH_RESULTS = 20;\nconst EXTENSION_STORE_LINK = \"https://chrome.google.com/webstore/detail/%EB%A9%94%EC%9D%B4%ED%94%8C%EC%8A%A4%ED%86%A0%EB%A6%AC-%EC%9D%B8%EB%B2%A4%ED%86%A0%EB%A6%AC-%EA%B2%80%EC%83%89-beta/bnnkkbefmdlhlmifffehooifdmecnikh?hl=ko\";\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    background: '#F8F8F8',\n  },\n  appbar: {\n    backgroundColor: orange[600],\n  },\n  title: {\n    fontWeight: 'bold',\n    paddingTop: '0.7em',\n    paddingBottom: '0.7em',\n    paddingLeft: '1em',\n    paddingRight: '1em',\n  },\n  search: {\n    display: 'inline-flex',\n    flexGrow: 1,\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade('#FFFFFF', 0.15),\n    margin: '0.5em 1em',\n    padding: '0.5em',\n  },\n  searchIcon: {\n    dislay: 'flex',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '0 0.2em',\n    pointerEvents: 'none',\n  },\n  inputRoot: {\n    width: '100%',\n  },\n  inputInput: {\n    padding: '0.1em',\n  },\n  extensionLink: {\n    transitionDuration: \"0.2s\",\n    marginRight: 0,\n  },\n  fileDropdown: {\n    display: 'flex',\n    border: '0.15rem dashed',\n    borderRadius: theme.shape.borderRadius,\n    margin: '2em',\n    padding: '1em',\n    minHeight: '5rem',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fileDropdownDescription: {\n    fontSize: '1rem',\n  },\n  fileDropdownButton: {\n    marginBottom: '0',\n  },\n  fileDropdownOverlay: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: 'calc(100% - 6em)',\n    height: 'calc(100% - 6em)',\n    margin: '2em',\n    padding: '1em',\n    flexGrow: 1,\n    background: fade('#FF0000', 0.2),\n  },\n  searchList: {\n    flexGrow: 1,\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [itemDatabase, setItemDatabase] = React.useState<ItemDatabase | undefined>(undefined);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n  const [fuseResults, setFuseResults] = React.useState<SearchResult[]>([]);\n  const [dragAreaHighlight, setDragAreaHighlight] = React.useState(0);\n  const [showHelp, setShowHelp] = React.useState(true);\n  const databaseLoadCallback = async (file: File) => {\n    try {\n      const json = JSON.parse(await file.text());\n\n      if (!('version' in json && 'when' in json && 'data' in json && 'inventoryMap' in json.data && 'storageMap' in json.data && 'nameToID' in json.data)) {\n        return;\n      }\n\n      const db: ItemDatabase = {\n        version: json.version,\n        when: json.when,\n        data: json.data,\n        nameFuse: new Fuse(Object.entries(json.data.nameToID).flatMap(([k, v]) => (v as any[]).map(elem => ({ name: k, id: elem }))), { keys: [\"name\"] }),\n      };\n\n      setItemDatabase(db);\n      setAnchorEl(null);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const fileDropCallback = (ev: React.DragEvent<HTMLDivElement>) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    const file =\n      (() => {\n        if (ev.dataTransfer.items) {\n          // Use DataTransferItemList interface to access the file(s)\n          for (let i = 0; i < ev.dataTransfer.items.length; i++) {\n            // If dropped items aren't files, reject them\n            if (ev.dataTransfer.items[i].kind === 'file') {\n              return ev.dataTransfer.items[i].getAsFile();\n            }\n          }\n        } else {\n          // Use DataTransfer interface to access the file(s)\n          for (let i = 0; i < ev.dataTransfer.files.length; i++) {\n            return ev.dataTransfer.files[i];\n          }\n        }\n        return null;\n      })();\n    if (file === null) { return; }\n    databaseLoadCallback(file);\n  };\n  const filePickCallback = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    const file = ev.currentTarget.files?.[0];\n    if (file) {\n      databaseLoadCallback(file);\n    }\n  }\n  const searchInputCallback = React.useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n    if (ev.target.value === null) return;\n    if (ev.target.value.trim().length === 0) {\n      setShowHelp(true); return;\n    }\n    setShowHelp(false);\n    setFuseResults(itemDatabase\n      ?.nameFuse\n      .search(ev.target.value)\n      ?.slice(0, MAX_SEARCH_RESULTS)\n      ?.map(r => {\n        console.log(r.item.name, r.item.id);\n        let values = [...((itemDatabase.data.inventoryMap[r.item.id] ?? []) as DatabaseValue<string>[])];\n        const storageItem = itemDatabase.data.storageMap[r.item.id];\n        if (storageItem) {\n          values.push({\n            ...storageItem,\n            iconURL: \"\",\n            owner: \"창고\",\n          });\n        }\n        return {\n          id: r.item.id,\n          name: r.item.name,\n          values: values,\n          totalItemCount: values.map(v => v.count).reduce((a, b) => a + b, 0),\n        };\n      }) ?? []);\n  }, [itemDatabase]);\n\n  return (\n    <div className=\"app\">\n      <AppBar position=\"sticky\" className={classes.appbar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>메이플 창고 &amp; 인벤토리 검색</Typography>\n          {\n            itemDatabase !== undefined ? <>\n              <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                  <SearchIcon />\n                </div>\n                <InputBase type=\"search\" placeholder=\"아이템 이름 검색...\" classes={{ root: classes.inputRoot, input: classes.inputInput }} onChange={searchInputCallback}></InputBase>\n              </div>\n            </> : <>\n              <Button onClick={(ev) => setAnchorEl(ev.currentTarget)}>아이템 목록 로드</Button>\n              <Popover id=\"file-dropdown-popover\"\n                open={Boolean(anchorEl)}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"bottom\",\n                  horizontal: \"center\"\n                }}\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'center',\n                }} onClose={() => setAnchorEl(null)}>\n                <div className={classes.fileDropdown}\n                  onDrop={fileDropCallback}\n                  onDragOver={(e) => { e.preventDefault(); e.stopPropagation(); }}\n                  onDragEnter={() => setDragAreaHighlight(dragAreaHighlight + 1)}\n                  onDragLeave={() => setDragAreaHighlight(dragAreaHighlight - 1)}\n                >\n                  <Typography align={'center'} variant=\"h6\" className={classes.fileDropdownDescription}>\n                    이 영역에 .json 파일을 끌어놓거나 아래의 버튼을 클릭하세요.\n                  </Typography>\n                  <Button variant=\"contained\" component=\"label\" className={classes.fileDropdownButton}>\n                    파일 선택\n                    <input type=\"file\" hidden onChange={filePickCallback} />\n                  </Button>\n                  {dragAreaHighlight > 0 ? <div className={classes.fileDropdownOverlay} /> : <></>}\n                </div>\n              </Popover>\n            </>\n          }\n          <Button className={classes.extensionLink} href={EXTENSION_STORE_LINK} target=\"_blank\" rel=\"noreferrer noopener\">크롬 확장 프로그램 다운로드</Button>\n        </Toolbar>\n      </AppBar>\n      {\n        showHelp ? (\n          <Container maxWidth=\"xl\" style={{ padding: '1em' }}>\n            <Help />\n          </Container>\n        ) : (\n          <Container maxWidth=\"md\">\n            <List className={classes.searchList}>\n              {fuseResults.map(e => <SearchListItem item={e} />)}\n            </List>\n          </Container>\n        )\n      }\n    </div >\n  );\n}\n\nfunction SearchListItem(props: { item: SearchResult }) {\n  const [expand, setExpand] = React.useState(false);\n  return (<>\n    <ListItem key={props.item.id} button onClick={() => setExpand(!expand)}>\n      <ListItemIcon>\n        <img src={`https://avatar.maplestory.nexon.com/ItemIcon/${props.item.id}.png`} alt={props.item.name} />\n      </ListItemIcon>\n      <ListItemText primary={`${props.item.name} (총 ${props.item.totalItemCount}개)`} />\n      {expand ? <ExpandMore /> : <ExpandLess />}\n    </ListItem>\n    <Collapse in={expand} unmountOnExit>\n      {(props.item.values.map((v => (\n        <List component=\"div\" disablePadding>\n          <ListItem key={props.item.id + \"-\" + v.owner}>\n            <ListItemText primary={`${v.owner} (${v.count ?? 1}개)`} />\n          </ListItem>\n        </List>\n      ))))}\n    </Collapse>\n\n  </>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}